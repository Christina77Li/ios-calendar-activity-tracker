# iOS Shortcuts â€”  Task Trackerï¼ˆã‚¿ã‚¹ã‚¯è¨˜éŒ²ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼‰

Apple Calendar ã«ã€Œã‚¿ã‚¹ã‚¯ã‚«ãƒ†ã‚´ãƒª + ã‚¿ã‚¹ã‚¯å†…å®¹ï¼ˆè©³ç´°ï¼‰ã€ã‚’è¨˜éŒ²ã™ã‚‹ãŸã‚ã® iOS ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ3ç‚¹ã‚»ãƒƒãƒˆã§ã™ã€‚  
A lightweight iOS Shortcuts set to track what youâ€™re doing and log it into Apple Calendar.

---

## 1) Overviewï¼ˆæ¦‚è¦ï¼‰

### æ—¥æœ¬èª
- **Start Activity**ï¼šã‚«ãƒ†ã‚´ãƒªã‚’é¸ã³ã€ã‚¿ã‚¹ã‚¯å†…å®¹ã‚’å…¥åŠ›ã—ã¦è¨˜éŒ²ã‚’é–‹å§‹ã—ã¾ã™  
- **Stop Activity**ï¼šé€²è¡Œä¸­ã®è¨˜éŒ²ã‚’çµ‚äº†ã—ã€Apple ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦ä¿å­˜ã—ã¾ã™  
- **Activity Menu**ï¼šStart / Stop ã‚’ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§å‘¼ã³å‡ºã—ã¾ã™ï¼ˆAction Button ãªã©ã«ä¾¿åˆ©ï¼‰

### English
- **Start Activity**: Choose a category, enter task details, and start tracking  
- **Stop Activity**: Stop the current task and save it as an Apple Calendar event  
- **Activity Menu**: A launcher menu for Start / Stop (ideal for Action Button / widgets)

---

## Changelogï¼ˆæ›´æ–°å±¥æ­´ï¼‰

- **2026-01-20**: Fix time parsing bug where `2:14` could be interpreted as `14:14`. Start time is now saved in **ISO 8601** format to avoid ambiguity. **iCloud links have been regenerated and updated below.**

---

## 2) Shortcuts & iCloud Linksï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã¨ãƒªãƒ³ã‚¯ï¼‰
> âœ… Latest iCloud links (updated on **2026-01-20**)
### Activity Menuï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰
Start/Stop ã‚’é¸ã‚“ã§å‘¼ã³å‡ºã—ã¾ã™ã€‚  
A menu shortcut that launches Start Activity or Stop Activity.

- https://www.icloud.com/shortcuts/06517c58fb5d42ad93dc7fd83b45a1a6

![Activity Menu](docs/images/menu.jpg)

### Start Activityï¼ˆé–‹å§‹ï¼‰
ã‚«ãƒ†ã‚´ãƒªã‚’é¸ã³ã€ã‚¿ã‚¹ã‚¯å†…å®¹ã‚’å…¥åŠ›ã—ã¦é–‹å§‹ã—ã¾ã™ã€‚  
Select a category, enter task details, and start tracking.

- https://www.icloud.com/shortcuts/135d557a3f064ea581a9ba372391f1b2

![Start Activity-Select Category](docs/images/start-1.jpg)
![Start Activity-Enter Details](docs/images/start-2.jpg)

### Stop Activityï¼ˆçµ‚äº†ãƒ»ä¿å­˜ï¼‰
é€²è¡Œä¸­ã®è¨˜éŒ²ã‚’çµ‚äº†ã—ã€ã‚«ãƒ†ã‚´ãƒªã¨ã‚¿ã‚¹ã‚¯å†…å®¹ã‚’ Apple ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ä¿å­˜ã—ã¾ã™ã€‚  
Stops the task and writes category + details into Apple Calendar.

- https://www.icloud.com/shortcuts/21be602e8ce04fbcaae81bc9f4bd3216

![Stop Activity-End Task](docs/images/stop-1.jpg)
![Stop Activity-Record in Calendar](docs/images/stop-2.jpg)
![Stop Activity-Calendar Result](docs/images/calendar-result.jpg)

---

## 3) Requirementsï¼ˆå¿…è¦æ¡ä»¶ï¼‰

### æ—¥æœ¬èª
- iPhone / iPadï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆAppï¼‰
- Apple ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ï¼ˆå¿…é ˆï¼‰

### English
- iPhone / iPad with the Shortcuts app
- Calendar permission (required)

---

## 4) Default Configurationï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šãƒ»é‡è¦ï¼‰

> âš ï¸ ã“ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã¯ **ã‚«ãƒ†ã‚´ãƒªåï¼ˆListï¼‰** ã¨ **ã‚«ãƒ†ã‚´ãƒªâ†’ä¿å­˜å…ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆIfï¼‰** ãŒå›ºå®šã§ã™ã€‚  
> âš ï¸ These shortcuts use a **category List** and an **If mapping (Category â†’ Calendar)**.

### 4.1 Categoriesï¼ˆã‚«ãƒ†ã‚´ãƒªï¼šStart Activity ã® Listï¼‰
Start Activity ã®ã€ŒChoose from Listã€ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚«ãƒ†ã‚´ãƒªã¯ä»¥ä¸‹ã®5ç¨®é¡ã§ã™ã€‚  
The category list in Start Activity is fixed to these 5 values:

- å‹‰å¼·ï¼ˆStudyï¼‰
- ä»•äº‹ï¼ˆWorkï¼‰
- å¨¯æ¥½ï¼ˆEntertainmentï¼‰
- é‹å‹•ï¼ˆExerciseï¼‰
- ãã®ä»–ï¼ˆOtherï¼‰

### 4.2 Calendar Namesï¼ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼åï¼šStop Activity ã® Ifï¼‰
Stop Activity ã¯ `If / Otherwise If` ã§ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«ä¿å­˜å…ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’é¸ã³ã¾ã™ã€‚  
Stop Activity selects the destination calendar via an `If / Otherwise If` chain.

Apple ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ä»¥ä¸‹ã®åå‰ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒå¿…è¦ã§ã™ï¼ˆã¾ãŸã¯ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆå´ã‚’ç·¨é›†ã—ã¦ãã ã•ã„ï¼‰ã€‚  
You must have calendars with these names (or edit the shortcuts to match yours):

- å‹‰å¼·
- ä»•äº‹
- å¨¯æ¥½
- é‹å‹•
- ãã®ä»–

---

## 5) One-Time Setupï¼ˆåˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼‰

### æ—¥æœ¬èª
1. ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼Appã‚’é–‹ã  
2. **5ã¤ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼**ï¼ˆå‹‰å¼·/ä»•äº‹/å¨¯æ¥½/é‹å‹•/ãã®ä»–ï¼‰ã‚’ä½œæˆï¼ˆã¾ãŸã¯æ—¢å­˜ã‚’ãƒªãƒãƒ¼ãƒ ï¼‰  
3. Start Activity ã‚’ä¸€åº¦å®Ÿè¡Œã—ã¦æ¨©é™ã‚’è¨±å¯  
4. Start â†’ Stop ã‚’è©¦ã—ã€ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ã„ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«å…¥ã‚‹ã‹ç¢ºèª

### English
1. Open the Calendar app  
2. Create (or rename) the **5 calendars**: å‹‰å¼· / ä»•äº‹ / å¨¯æ¥½ / é‹å‹• / ãã®ä»–  
3. Run Start Activity once and grant permissions  
4. Try Start â†’ Stop and confirm the event is saved to the expected calendar

---

## 6) How to Useï¼ˆä½¿ã„æ–¹ï¼‰

### Start a taskï¼ˆé–‹å§‹ï¼‰
- æ—¥æœ¬èªï¼š
  1) Activity Menu â†’ Start Activity  
  2) ã‚«ãƒ†ã‚´ãƒªã‚’é¸ã¶ï¼ˆå‹‰å¼·/ä»•äº‹/å¨¯æ¥½/é‹å‹•/ãã®ä»–ï¼‰  
  3) ã‚¿ã‚¹ã‚¯å†…å®¹ã‚’å…¥åŠ›  
  4) è¨˜éŒ²é–‹å§‹

- English:
  1) Activity Menu â†’ Start Activity  
  2) Select a category (å‹‰å¼·/ä»•äº‹/å¨¯æ¥½/é‹å‹•/ãã®ä»–)  
  3) Enter task details  
  4) Tracking starts

### Stop & saveï¼ˆçµ‚äº†ã—ã¦ä¿å­˜ï¼‰
- æ—¥æœ¬èªï¼š
  1) Activity Menu â†’ Stop Activity  
  2) è¨˜éŒ²ã‚’çµ‚äº†  
  3) Apple ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦ä¿å­˜

- English:
  1) Activity Menu â†’ Stop Activity  
  2) Stop the current task  
  3) Save it as a Calendar event

---

## 7) UI Messagesï¼ˆè¡¨ç¤ºãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ï¼‰

### æ—¥æœ¬èª
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹è¡¨ç¤ºãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼ˆè‹±èªã®æ„å‘³ã‚‚ä½µè¨˜ã—ã¾ã™ï¼‰ã€‚
### English
This project uses the following Japanese UI messages (with English meanings).

#### å…¥åŠ›ä¿ƒã—ï¼ˆPromptsï¼‰
- ã€Œã‚¿ã‚¹ã‚¯å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€  
  - EN: Please enter the task details.

#### çŠ¶æ…‹ / æ³¨æ„ï¼ˆStatus / Warningsï¼‰
- ã€Œåˆã‚ã¦ã®ã”åˆ©ç”¨ã§ã™ã­ï¼æœ€åˆã®ã‚¿ã‚¹ã‚¯ã‚’è¨˜éŒ²ã—ã¾ã—ã‚‡ã†ğŸ˜†ã€  
  - EN: First time here! Letâ€™s record your first task ğŸ˜†
- ã€Œç¾åœ¨ã®è¨˜éŒ²ã‚’çµ‚äº†ã—ã¾ã™ã€  
  - EN: Ending the current record.
- ã€Œå®Ÿè¡Œä¸­ã®ã‚¿ã‚¹ã‚¯ã¯ã‚ã‚Šã¾ã›ã‚“ã€  
  - EN: There is no running task.

#### å…¥åŠ›ãƒã‚§ãƒƒã‚¯ï¼ˆValidation Errorï¼‰
- ã€Œã‚¿ã‚¹ã‚¯ã‚«ãƒ†ã‚´ãƒªãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ï¼ã€  
  - EN: The task category is invalid!

---

## 8) Built-in Safeguardsï¼ˆä¾‹å¤–å‡¦ç† / å®‰å…¨è¨­è¨ˆï¼‰

### æ—¥æœ¬èª
ã“ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã«ã¯ã€çŠ¶æ…‹ãŒå´©ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ã‚¬ãƒ¼ãƒ‰ï¼ˆä¾‹å¤–å‡¦ç†ï¼‰ãŒã‚ã‚Šã€çŠ¶æ³ã«å¿œã˜ã¦åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

1) åˆå›åˆ©ç”¨ï¼ˆFirst-time useï¼‰
- æ¡ä»¶ï¼š`CurrentTask` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„  
- è¡¨ç¤ºï¼šã€Œåˆã‚ã¦ã®ã”åˆ©ç”¨ã§ã™ã­ï¼æœ€åˆã®ã‚¿ã‚¹ã‚¯ã‚’è¨˜éŒ²ã—ã¾ã—ã‚‡ã†ğŸ˜†ã€

2) é€²è¡Œä¸­ãªã—ã§ Stopï¼ˆStop with no active taskï¼‰
- æ¡ä»¶ï¼šå®Ÿè¡Œä¸­ã®ã‚¿ã‚¹ã‚¯ãŒãªã„  
- è¡¨ç¤ºï¼šã€Œå®Ÿè¡Œä¸­ã®ã‚¿ã‚¹ã‚¯ã¯ã‚ã‚Šã¾ã›ã‚“ã€

3) è¨˜éŒ²ä¸­ã« Start ã‚’å†å®Ÿè¡Œï¼ˆStart while another task is runningï¼‰
- æ¡ä»¶ï¼šã¾ã çµ‚äº†ã—ã¦ã„ãªã„ã‚¿ã‚¹ã‚¯ãŒã‚ã‚‹  
- å‹•ä½œï¼šç¾åœ¨ã®è¨˜éŒ²ã‚’çµ‚äº†ã—ã¦ã‹ã‚‰ã€æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’é–‹å§‹ã™ã‚‹  
- è¡¨ç¤ºï¼šã€Œç¾åœ¨ã®è¨˜éŒ²ã‚’çµ‚äº†ã—ã¾ã™ã€

### English
These shortcuts include safeguards (guardrails) to prevent invalid states and guide you with clear messages.

1) First-time use
- Condition: The `CurrentTask` file does not exist  
- Message: â€œåˆã‚ã¦ã®ã”åˆ©ç”¨ã§ã™ã­ï¼æœ€åˆã®ã‚¿ã‚¹ã‚¯ã‚’è¨˜éŒ²ã—ã¾ã—ã‚‡ã†ğŸ˜†â€

2) Stop with no active task
- Condition: There is no running task  
- Message: â€œå®Ÿè¡Œä¸­ã®ã‚¿ã‚¹ã‚¯ã¯ã‚ã‚Šã¾ã›ã‚“â€

3) Start while another task is running
- Condition: A task is still running (not yet stopped)  
- Behavior: The shortcut terminates the current record, then starts a new task  
- Message: â€œç¾åœ¨ã®è¨˜éŒ²ã‚’çµ‚äº†ã—ã¾ã™â€


## 9) Troubleshootingï¼ˆã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ï¼‰

### ã€Œã‚¿ã‚¹ã‚¯ã‚«ãƒ†ã‚´ãƒªãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ï¼ã€ï¼ˆInvalid categoryï¼‰
- æ—¥æœ¬èªï¼šã‚«ãƒ†ã‚´ãƒªãŒã€Œå‹‰å¼· / ä»•äº‹ / å¨¯æ¥½ / é‹å‹• / ãã®ä»–ã€ã®5ç¨®é¡ä»¥å¤–ã«ãªã£ã¦ã„ã¾ã™ã€‚  
- English: The selected category is not one of the 5 predefined categories:
  å‹‰å¼· / ä»•äº‹ / å¨¯æ¥½ / é‹å‹• / ãã®ä»–

**Fixï¼ˆå¯¾å‡¦ï¼‰**
### æ—¥æœ¬èª
1. Start Activity ã®ã‚«ãƒ†ã‚´ãƒªãƒªã‚¹ãƒˆï¼ˆChoose from Listï¼‰ãŒä¸Šè¨˜5ç¨®é¡ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª  
2. Stop Activity ã® If æ¡ä»¶ãŒã‚«ãƒ†ã‚´ãƒªåã¨å®Œå…¨ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆæ–‡å­—åˆ—ä¸€è‡´ï¼‰

### English
1. Check that the category list in Start Activity (Choose from List) contains the five predefined categories.  
2. Check that the If conditions in Stop Activity exactly match the category names (exact string match).

---

## 10) Customizationï¼ˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼‰

> âœ… å®Ÿè£…ã¯ã€Œã‚«ãƒ†ã‚´ãƒªã¯ Listã€ã€Œä¿å­˜å…ˆã¯ Ifã€ã€‚åå‰ã‚’å¤‰ãˆã‚‹å ´åˆã¯ **ä¸¡æ–¹ã‚’æ›´æ–°**ã—ã¦ãã ã•ã„ã€‚  
> âœ… Categories come from a List, calendars are chosen by Ifâ€”update BOTH if you rename anything.

### A) Edit Categoriesï¼ˆã‚«ãƒ†ã‚´ãƒªåï¼šStart Activityï¼‰
- Start Activity ã‚’é–‹ã / Open Start Activity  
- Choose from List ã®é …ç›®ã‚’ç·¨é›† / Edit the Choose from List items  
- ä¿å­˜ / Save

### B) Edit Calendar Mappingï¼ˆä¿å­˜å…ˆï¼šStop Activityï¼‰
- Stop Activity ã‚’é–‹ã / Open Stop Activity  
- `If Category is "å‹‰å¼·" â†’ Calendar = "å‹‰å¼·"` ã®ã‚ˆã†ãª If é€£é–ã‚’ç·¨é›†  
  / Edit the `If / Otherwise If` chain mapping category â†’ calendar  
- ä¿å­˜ / Save


